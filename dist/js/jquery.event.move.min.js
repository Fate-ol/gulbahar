!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t,e){var n=t.event.add,i=t.event.remove,a=function(e,n,i){t.event.trigger(n,i,e)},o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout((function(){t()}),25)},r={textarea:!0,input:!0,select:!0,button:!0},u="mousemove",d="mouseup dragstart",c="mouseup",m="touchmove",f="touchend",s="touchend";function p(t){var e=t,n=!1,i=!1;function a(t){n?(e(),o(a),i=!0,n=!1):i=!1}this.kick=function(t){n=!0,i||a()},this.end=function(t){var a=e;t&&(i?(e=n?function(){a(),t()}:t,n=!0):t())}}function g(){return!0}function v(){return!1}function h(t){t.preventDefault()}function l(t){r[t.target.tagName.toLowerCase()]||t.preventDefault()}function X(t,e){var n,i;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,i=t.length;++n<i;)if(t[n].identifier===e)return t[n]}function Y(t,e){var n=X(t.changedTouches,e.identifier);if(n&&(n.pageX!==e.pageX||n.pageY!==e.pageY))return n}function w(t){q(t,t.data,t,T)}function y(t){T()}function T(){i(document,u,w),i(document,d,y)}function S(t){var e=t.data,n=Y(t,e);n&&q(t,e,n,_)}function k(t){var e=t.data;X(t.changedTouches,e.identifier)&&_(e.identifier)}function _(t){i(document,"."+t,S),i(document,"."+t,k)}function q(t,e,n,i){var o=n.pageX-e.startX,r=n.pageY-e.startY;o*o+r*r<36||function(t,e,n,i,o,r){var u,d;e.target;u=t.targetTouches,d=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=i,e.distY=o,e.deltaX=i,e.deltaY=o,e.pageX=n.pageX,e.pageY=n.pageY,e.velocityX=i/d,e.velocityY=o/d,e.targetTouches=u,e.finger=u?u.length:1,e._handled=A,e._preventTouchmoveDefault=function(){t.preventDefault()},a(e.target,e),r(e.identifier)}(t,e,n,o,r,i)}function A(){return this._handled=g,!1}function D(t){t._handled()}function F(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function R(t){var e=t.data.event,n=t.data.timer;i(document,u,F),i(document,c,R),j(e,n,(function(){setTimeout((function(){i(e.target,"click",v)}),0)}))}function x(t){var e=t.data.event,n=t.data.timer,i=Y(t,e);i&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=i,t.data.timeStamp=t.timeStamp,n.kick())}function b(t){var e=t.data.event,n=t.data.timer;X(t.changedTouches,e.identifier)&&(!function(t){i(document,"."+t.identifier,x),i(document,"."+t.identifier,b)}(e),j(e,n))}function j(t,e,n){e.end((function(){return t.type="moveend",a(t.target,t),n&&n()}))}t.event.special.movestart={setup:function(t,e,i){return n(this,"movestart.move",D),!0},teardown:function(t){return i(this,"dragstart drag",h),i(this,"mousedown touchstart",l),i(this,"movestart",D),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(n(this,"dragstart."+t.guid+" drag."+t.guid,h,e,t.selector),n(this,"mousedown."+t.guid,l,e,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(i(this,"dragstart."+t.guid+" drag."+t.guid),i(this,"mousedown."+t.guid))},_default:function(t){var i,o;t._handled()&&(i={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},o={event:i,timer:new p((function(e){!function(t,e,n,i){var a=n-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/a,t.velocityY=.3*t.velocityY+.7*t.deltaY/a,t.pageX=e.pageX,t.pageY=e.pageY}(i,o.touch,o.timeStamp),a(t.target,i)})),touch:e,timeStamp:e},t.identifier===e?(n(t.target,"click",v),n(document,u,F,o),n(document,c,R,o)):(t._preventTouchmoveDefault(),n(document,m+"."+t.identifier,x,o),n(document,s+"."+t.identifier,b,o)))}},t.event.special.move={setup:function(){n(this,"movestart.move",t.noop)},teardown:function(){i(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){n(this,"movestart.moveend",t.noop)},teardown:function(){i(this,"movestart.moveend",t.noop)}},n(document,"mousedown.move",(function(t){var e;(function(t){return 1===t.which&&!t.ctrlKey&&!t.altKey})(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},n(document,u,w,e),n(document,d,y,e))})),n(document,"touchstart.move",(function(t){var e,i;r[t.target.tagName.toLowerCase()]||(i={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},n(document,m+"."+e.identifier,S,i),n(document,f+"."+e.identifier,k,i))})),"function"==typeof Array.prototype.indexOf&&function(t,e){for(var n=["changedTouches","targetTouches"],i=n.length;i--;)-1===t.event.props.indexOf(n[i])&&t.event.props.push(n[i])}(t)}));